<div class="bgimg w3-container">
  <div class="w3-content" style="max-width:700px">
    <h5 class="w3-center w3-padding-48"><span class="w3-tag w3-blue ">Przydzielanie zadania</span></h5>


    <div *ngIf="!submitted">
    <form>
      <table style="margin: auto;">
        <tbody>
          <tr>
            <td>Wybierz pracownika:</td>
            <td><select name="user" [(ngModel)]="addTask.user.email" class="w3-input w3-padding-S16 w3-border">
                <option> </option>
                <option *ngFor="let one of usersList"> {{one.email}} </option>
              </select></td>
          </tr>
          <tr>
            <td>Nazwa:</td>
            <td><input [(ngModel)]="addTask.nameTask" type="text" id="taskName" name="taskName"
                class="w3-input w3-padding-16 w3-border"></td>
          </tr>
          <tr>
            <td>Data rozpoczęcia:</td>
            <td><input class="date" type="date" name="data" [(ngModel)]="addTask.startTask"></td>
          </tr>
          <tr>
            <td>Data zakończenia:</td>
            <td><input class="date" type="date" name="data" [(ngModel)]="addTask.endTask"></td>
          </tr>
          <tr>
            <td>Opis zadania:</td>
            <td><input [(ngModel)]="addTask.descriptionTask" type="text" id="taskDescription" name="taskDescription"
                class="w3-input w3-padding-16 w3-border"></td>
          </tr>
          <tr>
            <td style="text-align: center;" colspan="2"><button (click)="addTasks()" class="w3-button w3-blue">Zatwierdź</button>
              <button class="w3-button w3-red" type="reset">Wyczyść</button></td>
          </tr>
        </tbody>
      </table>
    </form><br><br>
  </div>


    <div class="komunikat" *ngIf="submitted">
      <h4>Pomyślnie przydzielono zadanie!</h4>
      <meta http-equiv="refresh" content="1">
    </div>

    <h5 style="text-align: center;">Wszystkie zadania do wykonania: <button class="w3-button w3-blue"
      (click)="showTasks()">{{napis}}</button></h5>
    <div *ngIf="pozwolenie">
      <div *ngIf="tasks?.length>0">
    <table border style="margin: auto;">
      <tbody>
        <tr class="trMain">
          <td><h5>Nazwa</h5></td>
          <td><h5>Opis</h5></td>
          <td><h5>Data rozpoczęcia</h5></td>
          <td><h5>Data zakończenia</h5></td>
          <td><h5>Status</h5></td>
          <td><h5>Wykonawca</h5></td>
        </tr>
        <tr class="tr" *ngFor="let one of tasks, let odd = odd" [ngClass]="{'odd-tr': odd===true}">
          <td>{{one.nameTask}}</td>
          <td>{{one.descriptionTask}}</td>
          <td>{{one.startTask}}</td>
          <td>{{one.endTask}}</td>
          <td>W trakcie realizacji</td>
          <td>{{one.user.email}}</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div *ngIf="tasks?.length===0" class="noTask">
      <h3>Brak zadań do wyświetlenia.</h3>
  </div>
  </div>
  </div>
</div>
